<app-toolbar></app-toolbar>

<main class="container">
  <h1>Données brutes</h1>

  <p>
    Cette page présente l'ensemble des données brutes de l'application. Vous
    pouvez ci dessous visualiser les commandes ainsi que les organisations.
    Cliquez sur le bouton pour changer de vue.
  </p>

  @let view = viewSignal();
  <button mat-raised-button color="primary" (click)="onToggleViewButtonClick()">
    <mat-icon>swap_horiz</mat-icon>
    {{
      view === 'organizations' ? 'Voir les commandes' : 'Voir les organisations'
    }}
  </button>

  <p>
    Lorsque les données sont chargées, elles sont enregistrées dans votre
    navigateur pour ne pas avoir à lire les fichiers à chaque fois. En cas de
    besoin, vous pouvez les réinitialiser en cliquant sur le bouton ci-dessous.
  </p>

  <button mat-raised-button color="warn" (click)="onResetDataButtonClick()">
    <mat-icon> restart_alt </mat-icon>

    Réinitialiser les données
  </button>

  <section class="table">
    @switch (view) {
      @case ('organizations') {
        <app-organizations-table [organizations]="organizations" />
      }
      @case ('orders') {
        <app-orders-table [orders]="orders" />
      }
    }
  </section>
</main>
